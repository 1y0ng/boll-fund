# 基于布林线指标的基金购买推荐脚本

通过爬取天天基金网获取基金信息，结合布林线指标计算是否需要购买或卖出基金，实现了自动购买建议获取、指定基金查询、图像显示等功能

## 背景

一开始购买基金是通过蚂蚁财富app购买的，当时app出了一个功能，能够查看历史的操作行为是否是恰当的，当时就是一根基金净值线配合三根参考线，低于`下轨线`购买则表示`购买`行为恰当，高于`上轨线`购买则表示`购买`行为恰当，而当时官方给出的参考线生成原理就是基于BOLL指标生成的，但当时是无法查询当天情况的，于是就想着自己写个脚本结合基金净值来获取当天的购买卖出建议。

## 布林线指标
`布林线指标`，即`BOLL指标`，其英文全称是“Bollinger Bands”，布林线(BOLL)由约翰·布林先生创造，其利用统计原理，求出股价的标准差及其信赖区间，从而确定股价的波动范围及未来走势，利用波带显示股价的安全高低价位，因而也被称为布林带。其上下限范围不固定，随股价的滚动而变化。布林指标和麦克指标MIKE一样同属路径指标，股价波动在上限和下限的区间之内，这条带状区的宽窄，随着股价波动幅度的大小而变化，股价涨跌幅度加大时，带状区变宽，涨跌幅度狭小盘整时，带状区则变窄。

计算公式
```
中轨线=N日的移动平均线
上轨线=中轨线+两倍的标准差
下轨线=中轨线－两倍的标准差
```

简单来讲，就是当基金净值高于上轨线时卖出，低于下轨线时买入。由于布林线指标原本是用于购买股票的，涨跌幅度较大，而基金变化幅度较小，所以脚本中使用的是前20日的移动平均线和1.5倍的标准差，可以按自己的需求自行更改。

## 功能使用

1.查询当日基金信息

```
python3 jishen.py -o 基金编号
```
输出：

<img width="306" alt="image" src="https://github.com/user-attachments/assets/ebce7239-0c6f-4e56-b98e-eaeb69b7512d">

2.获取基金的购买卖出建议

基金会自动获取ku.txt中基金编号，然后计算出当日推荐购买的基金和推荐买出的基金（时间会比较长）
```
python3 jishen.py -a
```
输出：

<img width="342" alt="image" src="https://github.com/user-attachments/assets/3f6bc4d9-8c61-4407-a6d3-b695f83f4182">

3.获取指定基金的布林线指标图像信息

脚本爬取基金的历史净值信息，并计算指定天数（默认为100天）的布林线指标，可用来回测数据
```
python3 jishen.py -i 基金编号 -d 时间
```

输出：
<img width="1500" alt="image" src="https://github.com/user-attachments/assets/56852db9-de19-4653-ac48-6211ab8a7891">


## 最后
祝大家基金暴涨，早日财富自由。
